---
popup_media_player_row:
  show_icon: false
  show_name: true
  show_label: false
  extra_styles: |
    ha-card:hover {
      background-color: var(--primary-background-color);
    }
  styles:
    grid:
      - grid-template-areas: "n"
    card:
      - padding: "2px 12px"
      - height: "42px"
      - background: "none"
      - border: "1px rgba(var(--color-theme),0.2) solid"
      - width: "40vh"
    name:
      - align-self: "center"
      - justify-self: "center"
      - font-weight: "bold"
      - font-size: "14px"
      - text-transform: "capitalize"
      - color: "rgba(var(--color-theme),0.5)"
  name: >
    [[[
      var name = entity.attributes.source_list[variables.ulm_popup_media_entity_idx];
      return name;
    ]]]
  state:
    - operator: "template"
      value: "[[[ return entity.attributes.source == entity.attributes.source_list[variables.ulm_popup_media_entity_idx]; ]]]"
      styles:
        card:
          - background-color: "rgba(var(--color-blue),0.1)"
          - border: "none"
        name:
          - color: "rgba(var(--color-blue),1)"
  tap_action:
    action: "call-service"
    service: "media_player.select_source"
    service_data:
      entity_id: "[[[ return entity.entity_id; ]]]"
      source: "[[[ return entity.attributes.source_list[variables.ulm_popup_media_entity_idx]; ]]]"
